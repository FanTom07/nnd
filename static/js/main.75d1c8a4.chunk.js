(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{160:function(e,t,a){e.exports=a(250)},249:function(e,t,a){},250:function(e,t,a){"use strict";a.r(t);a(161),a(187),a(189),a(190),a(192),a(193),a(194),a(195),a(196),a(197),a(198),a(199),a(201),a(202),a(203),a(204),a(205),a(206),a(207),a(208),a(209),a(210),a(212),a(213),a(214),a(215),a(216),a(217),a(218),a(219),a(220),a(221),a(222),a(223),a(224),a(225),a(226),a(227),a(228),a(229);var n=a(0),o=a.n(n),s=a(83),c=a.n(s),i=a(17),l=a.n(i),r=a(55),u=a(84),d=a(85),p=a(37),m=a(103),h=a(102),b=a(11),f=(a(248),a(249),a(97)),v=a.n(f),g=function(e){return o.a.createElement(b.k,{id:e.id},e.fetchedUser&&o.a.createElement(b.l,null,o.a.createElement(b.m,{status:"".concat(e.fetchedUser.first_name," ").concat(e.fetchedUser.last_name),before:o.a.createElement(b.c,{size:36,src:e.fetchedUser.photo_200,onClick:e.modal,"data-to":"ava-btn"})},"#\u041d\u0438\u0447\u0435\u0433\u043e\u041d\u0435\u0414\u0435\u043b\u0430\u0442\u044c")),o.a.createElement(b.g,{className:"snow"},o.a.createElement(b.g,{className:"snowContainer"},o.a.createElement(b.h,null,o.a.createElement(b.g,null,o.a.createElement(b.e,{before:o.a.createElement(v.a,{width:20,height:20}),size:"xl",className:"invite-btn",onClick:function(){return e.openInvites()}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"))))),o.a.createElement(b.d,{className:"bannerSecond",mode:"image",size:"m",header:o.a.createElement(b.p,{level:"3"},"\u041d\u0430\u0436\u043c\u0438 \u0441\u044e\u0434\u0430"),id:"notify",subheader:"\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e, \u0447\u0442\u043e \u043f\u0440\u043e\u0437\u043e\u0439\u0434\u0435\u0442?",background:o.a.createElement("div",{style:{background:"#4986CC",backgroundPosition:"right bottom",backgroundSize:760,backgroundRepeat:"no-repeat",boxShadow:"inset 0px 0px 10px 8px rgba(0,0,0,0.085)"}})}))},k=a(98),y=a.n(k),E=a(99),S=a.n(E),A=a(100),C=a.n(A),w=a(101),M=a.n(w),W={backgroundColor:"var(--accent)"},I=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).modal=function(e){n.setState({activeModal:e.currentTarget.dataset.to})},n.go=function(e){window.history.pushState({panel:e.currentTarget.dataset.to},e.currentTarget.dataset.to),n.setState({activePanel:e.currentTarget.dataset.to,history:[].concat(Object(r.a)(n.state.history),[e.currentTarget.dataset.to]),snackbar:null})},n.state={message:!0,scheme:"space_gray",activePanel:"home",activeModal:null,fetchedUser:null,snackbar:null,popout:null},n.openInvites=n.openInvites.bind(Object(p.a)(n)),n.closeModal=n.closeModal.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.openInvites()}},{key:"closeModal",value:function(){this.setState({activeModal:null})}},{key:"setActiveModal",value:function(e){e=e||null;var t=this.state.modalHistory?Object(r.a)(this.state.modalHistory):[];null===e?t=[]:-1!==t.indexOf(e)?t=t.splice(0,t.indexOf(e)+1):t.push(e),this.setState({activeModal:e,modalHistory:t})}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("popstate",(function(){return e.goBack()})),this.setState({popout:o.a.createElement(b.n,null)}),l.a.subscribe((function(t){switch(t.detail.type){case"VKWebAppUpdateConfig":var a=document.createAttribute("scheme");a.value=t.detail.data.scheme?t.detail.data.scheme:"client_light",document.body.attributes.setNamedItem(a),e.setState({theme:t.detail.data.scheme}),l.a.send("VKWebAppSetViewSettings",{status_bar_style:"space_gray"===t.detail.data.scheme?"light":"dark",action_bar_color:"space_gray"===t.detail.data.scheme?"#19191a":"#ffff"});break;case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data}),l.a.send("VKWebAppGetAds").then((function(t){e.setState({promoBannerProps:t})})),e.setState({popout:null})}})),l.a.send("VKWebAppGetUserInfo",{}),l.a.subscribe((function(t){switch(t.detail.type){case"VKWebAppAccessTokenReceived":e.setState({access_token:t.detail.data.access_token})}}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"addGroups",value:function(){var e=this;l.a.send("VKWebAppAddToCommunity"),l.a.subscribe((function(t){switch(t.detail.type){case"VKWebAppAddToCommunityResult":e.setState({snackbar:o.a.createElement(b.o,{layout:"vertical",onClose:function(){return e.setState({snackbar:null})},before:o.a.createElement(b.c,{size:24,style:W},o.a.createElement(y.a,{fill:"#fff",width:14,height:14}))},"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e.")});break;case"VKWebAppAddToCommunityFailed":e.setState({snackbar:null})}}))}},{key:"openInvites",value:function(){var e=this;this.setState({popout:o.a.createElement(b.a,{onClose:function(){return e.setState({popout:null})}},o.a.createElement(b.b,{autoclose:!0,before:o.a.createElement(S.a,null),onClick:function(){return l.a.send("VKWebAppShowStoryBox",{background_type:"image",url:"https://sun9-10.userapi.com/impf/rMkBthcithc20cueRvyRi-pg8M2hAiMAOaYm8A/gvWX98KEYeU.jpg"})}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"),o.a.createElement(b.b,{autoclose:!0,before:o.a.createElement(C.a,null),onClick:function(){return l.a.send("VKWebAppShowWallPostBox",{message:"\u041f\u0440\u0438\u0432\u0435\u0442! \u042f \u0438\u0433\u0440\u0430\u044e \u0432 \u0438\u0433\u0440\u0443 \u043f\u043e\u0434 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c #\u041d\u0438\u0447\u0435\u0433\u043e\u041d\u0435\u0414\u0435\u043b\u0430\u0442\u044c.\n\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435, \u0438 #\u041d\u0438\u0447\u0435\u0433\u043e\u041d\u0435\u0414\u0435\u043b\u0430\u0439 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441\u043e \u043c\u043d\u043e\u0439!"})}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u043f\u043e\u0441\u0442\u0435"),o.a.createElement(b.b,{autoclose:!0,before:o.a.createElement(M.a,null),onClick:function(){return e.addGroups()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e"))})}},{key:"render",value:function(){var e=this,t=o.a.createElement(b.j,{activeModal:this.state.activeModal,onClose:this.closeModal},o.a.createElement(b.i,{id:"ava-btn",onClose:function(){return e.setState({activeModal:null})},header:"\u0417\u0430\u0447\u0435\u043c \u0442\u044b \u0441\u044e\u0434\u0430 \u043d\u0430\u0436\u0430\u043b?",caption:"\u0417\u0430\u043a\u0440\u043e\u0439 \u044d\u0442\u043e \u043e\u043a\u043d\u043e!",actions:[{title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",mode:"primary",action:function(){e.setState({activeModal:null})}}]}));return o.a.createElement(b.f,{isWebView:!0},o.a.createElement(b.q,{modal:t,activePanel:this.state.activePanel,popout:this.state.popout},o.a.createElement(g,{id:"home",message:this.state.message,modal:this.modal,openInvites:this.openInvites,fetchedUser:this.state.fetchedUser,go:this.go,snackbar:this.state.snackbar,popout:this.state.popout})))}}]),a}(o.a.Component);l.a.send("VKWebAppInit"),l.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var o=document.createAttribute("scheme");o.value=n.scheme?n.scheme:"bright_light",document.body.attributes.setNamedItem(o)}})),c.a.render(o.a.createElement(I,null),document.getElementById("root"))}},[[160,1,2]]]);
//# sourceMappingURL=main.75d1c8a4.chunk.js.map